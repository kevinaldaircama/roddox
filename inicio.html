<html lang="es">            
<head>            
  <meta charset="UTF-8" />            
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>            
  <title>men√∫ principal</title>            
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"/>            
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>            
<link rel="manifest" href="manifest.json" />            
  <meta name="theme-color" content="#121212" />            
  <link rel="icon" type="image/png" href="3440119_ico.png">            
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />            
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js"></script>         
<link rel="icon" href="3440119_ico.png" />      
  <link rel="manifest" href="manifest.json" />      
  <meta name="theme-color" content="#121212" />      
  <link rel="icon" type="image/png" href="3440119_ico.png">      
      
  <!-- Open Graph -->      
  <meta property="og:title" content="¬°√önete a Transferencia VIP y gana cr√©ditos!" />      
  <meta property="og:description" content="Reg√≠strate con este enlace de referido y recibe hasta 10 cr√©ditos gratis. Empieza a ganar hoy." />      
  <meta property="og:image" content="https://transferenciavip.xyz/3440119_ico.png" />      
  <meta property="og:url" content="https://transferenciavip.xyz" />      
  <meta property="og:type" content="website" />      
  <!-- Twitter Cards -->      
  <meta name="twitter:card" content="summary_large_image" />      
  <meta name="twitter:title" content="¬°Gana cr√©ditos con Transferencia VIP!" />      
  <meta name="twitter:description" content="Reg√≠strate con un referido y recibe bonificaciones instant√°neas." />      
  <meta name="twitter:image" content="https://transferenciavip.xyz/3440119_ico.png" />      
           
  <style>            
    #loaderOverlay {            
      position: fixed;            
      top: 0; left: 0;            
      width: 100%; height: 100%;            
      background-color: #000000cc;            
      z-index: 3000;            
      display: flex;            
      align-items: center;            
      justify-content: center;            
    }            
    .loader {            
      border: 10px solid #f3f3f3;            
      border-top: 10px solid #3498db;            
      border-radius: 50%;            
      width: 70px;            
      height: 70px;            
      animation: spin 1s linear infinite;            
    }            
    @keyframes spin {            
      0% { transform: rotate(0deg); }            
      100% { transform: rotate(360deg); }            
    }            
    body {            
      background-color: #111;            
      color: #fff;            
      font-family: 'Segoe UI', sans-serif;            
    }            
    .dashboard-container { max-width: 1200px; margin: auto; padding: 1rem; }            
    .header-section {            
      background: linear-gradient(to right, #00223e, #3a6073);            
      border-radius: 15px;            
      text-align: center;            
      padding: 2rem 1rem;            
    }            
    .header-section img { border-radius: 50%; width: 80px; }            
    .credit-box, .queries-box {            
      padding: 1rem;            
      border-radius: 10px;            
      margin-top: 1rem;            
    }            
    .credit-box { background-color: #202d3a; }            
    .queries-box { background-color: #47222e; }            
    .btn-credits, .btn-invite {            
      background-color: #0d6efd;            
      color: white;            
      border: none;            
      padding: 0.5rem 1rem;            
      border-radius: 10px;            
      margin: 1rem 0;            
      display: inline-block;            
      text-decoration: none;            
    }            
    .query-search {            
      background-color: #222;            
      padding: 1rem;            
      border-radius: 10px;            
      margin: 2rem 0;            
    }            
    .category-btn {            
      background-color: #007bff;            
      color: white;            
      margin: 0.4rem;            
      border: none;            
      padding: 0.5rem 0.75rem;            
      border-radius: 10px;            
      display: inline-block;            
      text-decoration: none;            
    }            
    .category-btn i { margin-right: 0.5rem; }            
    .filter-tags {            
      display: flex;            
      flex-wrap: wrap;            
      gap: 0.5rem;            
      margin-top: 1rem;            
    }            
    .footer {            
      margin-top: 3rem;            
      text-align: center;            
      font-size: 0.85rem;            
      color: #aaa;            
    }            
    .sidebar {            
      position: fixed;            
      top: 0; left: -260px;            
      width: 250px; height: 100%;            
      background-color: #1e1e1e;            
      transition: left 0.3s;            
      padding: 1rem;            
      z-index: 2000;            
    }            
    .sidebar.active { left: 0; }            
    .sidebar .nav-link {            
      color: #fff;            
      display: flex;            
      align-items: center;            
      gap: 10px;            
      margin: 0.5rem 0;            
      text-decoration: none;            
    }            
    .sidebar .nav-link:hover { color: #0d6efd; }            
    .hamburger {            
      font-size: 24px;            
      cursor: pointer;            
      position: absolute;            
      top: 10px;            
      left: 10px;            
      z-index: 2100;            
    }            
    .toggle-switch {            
      display: flex;            
      align-items: center;            
      gap: 10px;            
      margin-top: 1rem;            
      cursor: pointer;            
    }            
            
    /* Modo claro */            
    body.light-mode {            
      background-color: #f5f5f5;            
      color: #111;            
    }            
    body.light-mode .sidebar { background-color: #e0e0e0; }            
    body.light-mode .nav-link { color: #111; }            
    body.light-mode .nav-link:hover { color: #0d6efd; }            
    body.light-mode .dashboard-container { background-color: #fff; color: #000; }            
    body.light-mode .credit-box { background-color: #dee2e6; }            
    body.light-mode .queries-box { background-color: #f8d7da; }            
            
    /* Modal personalizado */            
    .modal-content {            
      background-color: #1a1a1a;            
      color: white;            
      border: 1px solid #444;            
    }   
    
    /* Banner de saldo bajo */
.saldo-banner{
  position: fixed;
  right: 16px;
  bottom: 16px;
  z-index: 1000;
  background: #fff;
  border: 1px solid #e8ecf3;
  border-left: 6px solid #f59e0b; /* color de alerta */
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,.12);
  padding: 12px 14px;
  max-width: 320px;
  font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: #0b1220;
}
.saldo-content{ display: flex; align-items: center; gap: 10px; }
.saldo-content span{ font-size: 14px; line-height: 1.4; }
.saldo-btn{
  margin-left: auto;
  background: #0d6efd;
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 8px 10px;
  font-weight: 600;
  cursor: pointer;
}
.saldo-btn:hover{ background:#0b5ed7; }
@media (max-width: 480px){
  .saldo-banner{ left: 12px; right: 12px; bottom: 12px; }
    }
  </style>            
</head>            
<body>            
  <div id="loaderOverlay"><div class="loader"></div></div>            
            
  <div class="hamburger text-white">            
    <i class="fas fa-bars" onclick="toggleSidebar()"></i>            
  </div>            
            
  <div class="sidebar" id="sidebar">            
    <h6 class="text-primary">BARRA DE MEN√ö</h6>            
    <a href="index" class="nav-link"><i class="fas fa-home"></i> Inicio</a>            
    <a href="convertidor" class="nav-link"><i class="fas fa-credit-card"></i>convertir cr√©ditos a soles</a>      
    <a href="compart√≠ cr√©ditos" class="nav-link"><i class="fas fa-credit-card"></i>enviar cr√©ditos</a>      
    <a href="index" class="nav-link" onclick="cerrarSesion()"><i class="fas fa-sign-out-alt"></i> Cerrar sesi√≥n</a>          
    <a href="referido" class="nav-link"><i class="fas fa-users"></i> redes sociales</a>            
    <hr>            
    <h6 class="text-primary">OUR FEATURES</h6>            
    <div class="toggle-switch" onclick="toggleMode()" id="modeToggle">            
      <i class="fas fa-moon text-light" id="modeIcon"></i>            
      <span id="modeText">Modo Oscuro</span>            
    </div>            
    <div class="mt-3"><a href="admin panel" class="btn btn-primary w-100">Acceso admin</a></div>            
    <div class="mt-2"><a href="soporte" class="btn btn-primary w-100"><i class="fas fa-headset"></i> Soporte</a></div>            
  </div>            
            
  <div class="dashboard-container">            
    <div class="header-section">            
      <img src="https://www.w3schools.com/howto/img_avatar.png" alt="Avatar" />            
      <p>Plan: <span class="text-warning" id="tipoPlan">FREE</span> | Tipo de Cuenta: <span class="text-info">Personal</span></p>      
      <h1>KTT</h1>            
      <h4 class="text-light">on search</h4>            
      <p>Encuentra conexiones, construye historias: tu b√∫squeda comienza aqu√≠.</p>            
      <a href="planes" class="btn-credits">Comprar Cr√©ditos <i class="fas fa-coins"></i></a>            
    </div>            
             <!-- Aviso de saldo bajo -->
<div id="saldoLowBanner" class="saldo-banner" hidden>
  <div class="saldo-content">
    <span>‚ö†Ô∏è Saldo bajo: te quedan <strong id="saldoRestante">0</strong> cr√©ditos.</span>
    <button id="irPlanesBtn" class="saldo-btn" type="button">Recargar ahora</button>
  </div>
</div>
    <div class="row">            
      <div class="col-md-6 credit-box">            
        <h5>Saldo Total</h5>            
        <p id="saldoUsuario">$0.00 <span class="text-muted">saldo actual a la fecha</span></p>            
        <div class="progress"><div class="progress-bar bg-success" style="width:100%">Saldo</div></div>            
      </div>            
      <div class="col-md-6 queries-box">
  <h5>N√∫mero de Recargas</h5>
  <p id="numRecargas">0 <a href="recagas" class="text-white" id="verHistorial">ver historial</a></p>
  <div class="progress">
    <div class="progress-bar bg-danger" id="recargasProgress" style="width:0%"></div>
  </div>
</div>            
           
    <div class="text-center mt-3">            
      <a href="referido" class="btn-invite"><i class="fas fa-user-plus"></i> redes sociales</a>            
      <p class="text-muted">siguenos en nuestra redes sociales</p>            
    </div>            
            
    <div class="query-search">          
  <label for="consultaInput">Consultas 2025</label>          
  <input type="text" id="consultaInput" class="form-control" placeholder="Buscar por nombre o tipo de consulta" />
      <div class="filter-tags">
  <span class="badge bg-primary">Todos</span>
  <span class="badge bg-primary">netfree</span>
  <span class="badge bg-primary">apps fake</span>
  <span class="badge bg-primary">doxin</span>
      </div>
      <!-- Resultados din√°micos -->        
  <div id="resultadosBusqueda" class="list-group mt-3"></div>        
</div>        
            
    <div class="mt-4">            
      <h5>Categor√≠as Populares</h5>            
      <div>            
        <a href="consulta/telefono" class="category-btn"><i class="fas fa-user"></i>consulta n√∫meros telef√≥nicos</a>            
        <a href="creaci√≥n de vps" class="category-btn"><i class="fas fa-user"></i>generador de vps</a>            
        <a href="curso" class="category-btn"><i class="fas fa-user"></i>curso streaming</a>            
        <a href="Yape fake" class="category-btn"><i class="fas fa-user"></i>yape fake</a>            
        <a href="Generar servidores" class="category-btn"><i class="fas fa-user"></i>generador de servidores</a>            
        <a href="consulta/c4 info" class="category-btn"><i class="fas fa-user"></i>consultar c4</a>
        <a href="consulta/delitos" class="category-btn"><i class="fas fa-user"></i>consultar delitos</a>
        <a href="consulta/sis" class="category-btn"><i class="fas fa-user"></i>consultar seguros</a>
        <a href="consulta/consulta nombre" class="category-btn"><i class="fas fa-user"></i>consulta nombre</a>
        <a href="consulta/consulta dni" class="category-btn"><i class="fas fa-user"></i>consultas dni</a>
      </div>            
    </div>            
            
    <div class="footer">            
      <p>¬© 2025 transferencia vip App | Desarrollado por KTT</p>            
    </div>            
  </div>            
            
  <!-- Modal de Notificaci√≥n -->            
  <div class="modal fade" id="modalNotificacion" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">            
    <div class="modal-dialog modal-dialog-centered">            
      <div class="modal-content">            
        <div class="modal-header">            
          <h5 class="modal-title" id="modalLabel"><i class="fas fa-bell text-warning"></i> Notificaci√≥n</h5>            
        </div>            
        <div class="modal-body" id="contenidoNotificacion"></div>            
        <div class="modal-footer">            
          <button type="button" class="btn btn-primary w-100" data-bs-dismiss="modal">Aceptar</button>            
        </div>            
      </div>            
    </div>            
  </div>            
      <!-- Banner Pop-up Fiestas Patrias con contador y expiraci√≥n autom√°tica -->      
<div id="fiestasBanner" style="display: none; position: fixed; bottom: 20px; right: 20px; max-width: 360px; background: linear-gradient(135deg, #ff0000, #ffffff, #ff0000); color: #000; padding: 20px; border-radius: 12px; box-shadow: 0 0 15px rgba(0,0,0,0.3); font-family: 'Segoe UI', sans-serif; z-index: 9999;">      
  <button onclick="document.getElementById('fiestasBanner').style.display='none'" style="position: absolute; top: 10px; right: 10px; background: transparent; border: none; font-size: 18px; cursor: pointer;">√ó</button>      
  <h2 style="font-size: 22px; margin-top: 0;">üéâüáµüá™ ¬°Felices Fiestas Patrias, Per√∫! üáµüá™üéâ</h2>      
  <p style="font-size: 16px;">      
    En <strong>TransferenciaVIP</strong> estamos regalando <strong>VPS, servidores, cursos y m√°s</strong> totalmente <span style="color: red; font-weight: bold;">GRATIS</span> por tiempo limitado.      
  </p>      
  <p style="font-weight: bold; font-size: 16px; color: #d80000;">üî• ¬°Solo por 5 d√≠as! (27 al 31 de julio) üî•</p>      
  <p style="font-size: 16px; margin: 10px 0;">      
    ‚è≥ <strong>Quedan <span id="diasRestantes"></span> d√≠as</strong> para aprovechar.      
  </p>      
  <a href="referido.html" target="_blank" style="display: inline-block; background: #d80000; color: #fff; padding: 10px 20px; border-radius: 8px; text-decoration: none; font-size: 16px;">      
    üéÅ ¬°Gana 15 Cr√©ditos Aqu√≠ invitando gente!      
  </a>      
  <p style="margin-top: 10px; font-size: 14px;">üíª Celebra con nosotros esta gran fiesta nacional con <strong>regalos digitales √∫nicos</strong>.</p>      
  <div style="font-size: 12px; margin-top: 8px; color: #333;">      
    #TransferenciaVIP #FiestasPatrias #Per√∫ #RegalosDigitales #CursosGratis #VPSGratis      
  </div>      
</div>      
      
<!-- Script: mostrar solo si a√∫n no termina la promo -->      
<script>      
  (function() {      
    const hoy = new Date();      
    const finPromo = new Date('2025-07-31T23:59:59');      
      
    if (hoy <= finPromo) {      
      document.getElementById('fiestasBanner').style.display = 'block';      
      
      const diferencia = finPromo - hoy;      
      const dias = Math.ceil(diferencia / (1000 * 60 * 60 * 24));      
      document.getElementById('diasRestantes').textContent = dias > 0 ? dias : 0;      
    }      
    // Si la fecha ya pas√≥, el banner no se mostrar√°.      
  })();      
</script>      
  <!-- Scripts -->            
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>            
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>            
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>            
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>            
            
<!-- SCRIPT COMPLETO (fragmento relevante actualizado) -->      
<script>      
  const firebaseConfig = {      
    apiKey: "AIzaSyCbL1fRbwVZRhdD88TeQSFgpvfjZOMwfIg",
    authDomain: "multidoxnetfree.firebaseapp.com",
    databaseURL: "https://multidoxnetfree-default-rtdb.firebaseio.com",
    projectId: "multidoxnetfree",
    storageBucket: "multidoxnetfree.firebasestorage.app",
    messagingSenderId: "248995370956",
    appId: "1:248995370956:web:455823a3778859bd4d2f69",
    measurementId: "G-HDE68S5TYS"
  };

  firebase.initializeApp(firebaseConfig);      
  const auth = firebase.auth();      
  const db = firebase.database();      
      
  auth.onAuthStateChanged(user => {      
    if (user) {      
      const uid = user.uid;      
      
      // ‚úÖ MOSTRAR PLAN DESDE FIREBASE      
      db.ref(`usuarios/${uid}/plan`).on('value', snapshot => {      
        const plan = snapshot.val() || 'FREE';      
        const tipoPlanEl = document.getElementById('tipoPlan');      
        tipoPlanEl.innerText = plan;      
      
        tipoPlanEl.classList.remove(      
          'text-warning', 'text-info', 'text-danger', 'text-muted', 'text-primary', 'text-success'      
        );      
      
        if (plan === 'FREE') {      
          tipoPlanEl.classList.add('text-warning');      
        } else if (plan === 'BRONCE') {      
          tipoPlanEl.classList.add('text-muted');      
        } else if (plan === 'ORO') {      
          tipoPlanEl.classList.add('text-info');      
        } else if (plan === 'PREMIUM') {      
          tipoPlanEl.classList.add('text-danger');      
        } else if (plan === 'VIP') {      
          tipoPlanEl.classList.add('text-primary');      
        } else if (plan === 'DIAMANTE') {      
          tipoPlanEl.classList.add('text-success');      
        }      
      });      
      
      // ‚úÖ SALDO ACTUAL      
      db.ref(`usuarios/${uid}/comisionesTotales`).on('value', snapshot => {      
        const creditos = parseFloat(snapshot.val()) || 0;      
        document.getElementById('saldoUsuario').innerHTML =      
          `$${creditos.toFixed(2)} <span class="text-muted">saldo actual a la fecha</span>`;      
      });      
      
      // ‚úÖ NOTIFICACI√ìN      
      db.ref(`usuarios/${uid}/notificacionRecarga`).once('value').then(snapshot => {      
        const data = snapshot.val();      
        if (data && !data.leido) {      
          document.getElementById('contenidoNotificacion').innerText = data.mensaje;      
          const modal = new bootstrap.Modal(document.getElementById('modalNotificacion'));      
          modal.show();      
          document.getElementById('modalNotificacion').addEventListener('hidden.bs.modal', () => {      
            db.ref(`usuarios/${uid}/notificacionRecarga/leido`).set(true);      
          });      
        }      
      });      
      
      // ‚úÖ UID COPIABLE      
      const uidTexto = document.createElement('p');      
      uidTexto.innerHTML = `<strong>Tu UID:</strong> <code id="uidCopiable" style="cursor:pointer">${uid}</code>`;      
      uidTexto.classList.add('text-info');      
      document.querySelector('.text-center.mt-3').appendChild(uidTexto);      
      
      setTimeout(() => {      
        document.getElementById('uidCopiable').addEventListener('click', () => {      
          navigator.clipboard.writeText(uid).then(() => {      
            const msg = document.createElement('div');      
            msg.innerText = "‚úÖ UID copiado al portapapeles";      
            msg.style.color = "#0f0";      
            msg.style.fontSize = "0.9rem";      
            msg.style.marginTop = "0.3rem";      
            uidTexto.appendChild(msg);      
            setTimeout(() => msg.remove(), 2000);      
          });      
        });      
      }, 100);      
    } else {      
      window.location.href = "index.html";      
    }      
  });      
            
    function toggleSidebar() {            
      document.getElementById('sidebar').classList.toggle('active');            
    }            
            
    function toggleMode() {            
      const body = document.body;            
      const icon = document.getElementById('modeIcon');            
      const text = document.getElementById('modeText');            
      body.classList.toggle('light-mode');            
      if (body.classList.contains('light-mode')) {            
        icon.classList.replace('fa-moon', 'fa-sun');            
        icon.classList.replace('text-light', 'text-warning');            
        text.textContent = 'Modo Claro';            
      } else {            
        icon.classList.replace('fa-sun', 'fa-moon');            
        icon.classList.replace('text-warning', 'text-light');            
        text.textContent = 'Modo Oscuro';            
      }            
    }            
            
    // Ocultar loader            
    setTimeout(() => {            
      document.getElementById('loaderOverlay').style.display = 'none';            
    }, 10000); // 10 segundos            
            
    // Redirigir despu√©s de 10 minutos de inactividad            
    setTimeout(() => {            
      alert("Tu sesi√≥n ha expirado. Ser√°s redirigido al login.");            
      window.location.href = "login.html";            
    }, 10 * 60 * 1000);            
              
window.addEventListener("load", function(){            
  window.cookieconsent.initialise({            
    palette: {            
      popup: { background: "#000" },            
      button: { background: "#f1d600" }            
    },            
    theme: "classic",            
    content: {            
      message: "Este sitio utiliza cookies para mejorar tu experiencia.",            
      dismiss: "Aceptar",            
      link: "Leer m√°s",            
      href: "politica-cookies.html"            
    }            
  });            
});            
function cerrarSesion() {          
  firebase.auth().signOut().then(() => {          
    window.location.href = "login.html";          
  }).catch((error) => {          
    alert("Error al cerrar sesi√≥n: " + error.message);          
  });          
}          
const consultas = [          
  { nombre: "Consulta de pago", url: "consulta_pago.html" },          
  { nombre: "Consulta por nombre", url: "consulta_nombre.html" },          
  { nombre: "Tipo de cambio", url: "tipo_cambio.html" },          
  { nombre: "Generador de VPS", url: "creaci√≥n de vps.html" },          
  { nombre: "Curso streaming", url: "curso.html" },          
  { nombre: "Yape fake", url: "Yape fake.html" },          
  { nombre: "Generador de servidores", url: "Generar servidores.html" },          
  { nombre: "Inicio", url: "index.html" }          
];          
          
document.getElementById("consultaInput").addEventListener("input", function () {          
  const filtro = this.value.toLowerCase();          
  const resultados = document.getElementById("resultadosBusqueda");          
  resultados.innerHTML = ""; // Limpiar resultados          
          
  if (filtro.length === 0) return;          
          
  const filtradas = consultas.filter(c => c.nombre.toLowerCase().includes(filtro));          
          
  if (filtradas.length === 0) {          
    resultados.innerHTML = '<div class="list-group-item bg-dark text-light">No hay coincidencias</div>';          
    return;          
  }          
          
  filtradas.forEach(c => {          
    const item = document.createElement("a");          
    item.href = c.url;          
    item.className = "list-group-item list-group-item-action bg-dark text-white";          
    item.textContent = c.nombre;          
    resultados.appendChild(item);          
  });          
}); 
  // Funci√≥n para obtener las recargas del usuario
function obtenerRecargas(uid) {
  const ref = db.ref(`usuarios/${uid}/historialRecargas`);

  ref.once('value', snapshot => {
    const data = snapshot.val();
    const numRecargas = data ? Object.keys(data).length : 0; // N√∫mero de recargas
    const progreso = (numRecargas > 100) ? 100 : (numRecargas / 100) * 100; // Progreso hasta el 100%

    // Actualizamos el n√∫mero de recargas y la barra de progreso
    document.getElementById('numRecargas').innerHTML = `${numRecargas} <a href="recargas" class="text-white" id="verHistorial">ver historial</a>`;
    document.getElementById('recargasProgress').style.width = `${progreso}%`;
  });
}

// Obtener el UID del usuario autenticado
firebase.auth().onAuthStateChanged(user => {
  if (user) {
    const uid = user.uid;
    obtenerRecargas(uid); // Llamamos la funci√≥n con el UID del usuario
  } else {
    console.log('No hay usuario autenticado.');
  }
});
  const banner = document.getElementById('saldoLowBanner');
const saldoTxt = document.getElementById('saldoRestante');
const irPlanesBtn = document.getElementById('irPlanesBtn');

irPlanesBtn.addEventListener('click', () => {
  window.location.href = 'planes.html';
});

// Ya tienes un auth.onAuthStateChanged arriba.
// Para no duplicar listeners, a√±adimos el chequeo del banner dentro del existente.
// Pero si prefieres mantenerlo aqu√≠ separado, tambi√©n funciona:
auth.onAuthStateChanged((user) => {
  if (!user) {
    banner.hidden = true; // ocultar si no hay sesi√≥n
    return;
  }
  const refPath = db.ref(`usuarios/${user.uid}/comisionesTotales`);
  refPath.on('value', (snap) => {
    const valor = Number(snap.val() ?? 0);
    if (valor >= 0 && valor <= 10) {
      saldoTxt.textContent = valor.toFixed(0);
      banner.hidden = false;
    } else {
      banner.hidden = true;
    }
  }, () => banner.hidden = true);
});
</script>            
</body>            
      </html>
